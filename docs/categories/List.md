---
layout: default
title: 'üìã –ß–µ–º `List<T>` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π?'
description: ''
author: 'Dvurechensky'
date: 2025-08-28
published: true
tags:
  - List
  - C#
---

<h1 align="center">üìã –ß–µ–º `List<T>` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π?</h1>
<p align="center">
    <a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Fira+Code&pause=1000&center=true&vCenter=true&width=435&lines=%D0%9F%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5+-+%D0%BC%D0%B0%D1%82%D1%8C+%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F" alt="Typing SVG" /></a>
</p>
<p align="center">
    <a href="https://sites.google.com/view/dvurechensky" target="_blank"><img alt="Static Badge" src="https://shields.dvurechensky.pro/badge/Dvurechensky-Nikolay-blue"></a>
</p>

# ‚ú® –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [‚ú® –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](#-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)
  - [üîë –ö–æ—Ä–æ—Ç–∫–æ ‚Äî —á—Ç–æ —Ç–∞–∫–æ–µ `List<T>`](#-–∫–æ—Ä–æ—Ç–∫–æ--—á—Ç–æ-—Ç–∞–∫–æ–µ-listt)
  - [üß© –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ `List<T>`](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-listt)
  - [üß† –í —á—ë–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `List<T>` –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏](#-–≤-—á—ë–º-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-listt-–ø–µ—Ä–µ–¥-–¥—Ä—É–≥–∏–º–∏-–∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏)
    - [–ü—Ä–æ—Ç–∏–≤ `T[]` (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤)](#–ø—Ä–æ—Ç–∏–≤-t-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–∞—Å—Å–∏–≤)
    - [–ü—Ä–æ—Ç–∏–≤ `LinkedList<T>`](#–ø—Ä–æ—Ç–∏–≤-linkedlistt)
    - [–ü—Ä–æ—Ç–∏–≤ `Queue<T>` / `Stack<T>`](#–ø—Ä–æ—Ç–∏–≤-queuet--stackt)
    - [–ü—Ä–æ—Ç–∏–≤ `HashSet<T>` / `Dictionary<TKey,TValue>`](#–ø—Ä–æ—Ç–∏–≤-hashsett--dictionarytkeytvalue)
    - [–ü—Ä–æ—Ç–∏–≤ `SortedSet<T>` / `SortedDictionary<TKey,TValue>`](#–ø—Ä–æ—Ç–∏–≤-sortedsett--sorteddictionarytkeytvalue)
    - [–ü—Ä–æ—Ç–∏–≤ `ObservableCollection<T>` / `ReadOnlyCollection<T>`](#–ø—Ä–æ—Ç–∏–≤-observablecollectiont--readonlycollectiont)
    - [–ü—Ä–æ—Ç–∏–≤ `ConcurrentBag/Queue/Dictionary`](#–ø—Ä–æ—Ç–∏–≤-concurrentbagqueuedictionary)
    - [–ü—Ä–æ—Ç–∏–≤ `ImmutableList<T>` (immutable collections)](#–ø—Ä–æ—Ç–∏–≤-immutablelistt-immutable-collections)
  - [‚öôÔ∏è –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—á—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å)](#Ô∏è-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ-–¥–µ—Ç–∞–ª–∏-–∏-–ø–æ–≤–µ–¥–µ–Ω–∏–µ-—á—Ç–æ-–≤–∞–∂–Ω–æ-–∑–Ω–∞—Ç—å)
    - [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ (growth)](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–±—É—Ñ–µ—Ä–∞-growth)
    - [–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã](#–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã)
    - [`TrimExcess()`](#trimexcess)
    - [`AsReadOnly()` –∏ `ToArray()`](#asreadonly-–∏-toarray)
    - [–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ–ª—å](#–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ–ª—å)
    - [–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è per-closed-type](#—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-–ø–æ–ª—è-per-closed-type)
    - [Boxing –∏ value-types](#boxing-–∏-value-types)
    - [Enumerator –∫–∞–∫ struct (–ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏)](#enumerator-–∫–∞–∫-struct-–ø–æ–¥–≤–æ–¥–Ω—ã–µ-–∫–∞–º–Ω–∏)
  - [üìà –°–ª–æ–∂–Ω–æ—Å—Ç–∏ (Big-O) ‚Äî –±—ã—Å—Ç—Ä–æ](#-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏-big-o--–±—ã—Å—Ç—Ä–æ)
  - [üß® –ß–∞—Å—Ç—ã–µ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ / —Å–æ–±–µ—Å-–ª–æ–≤—É—à–∫–∏ (–∏ –∫–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å)](#-—á–∞—Å—Ç—ã–µ-–ø–æ–¥–≤–æ–¥–Ω—ã–µ-–∫–∞–º–Ω–∏--—Å–æ–±–µ—Å-–ª–æ–≤—É—à–∫–∏-–∏-–∫–∞–∫-–æ—Ç–≤–µ—á–∞—Ç—å)
    - [1) ¬´–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `Capacity`?¬ª](#1-—á—Ç–æ-–¥–µ–ª–∞–µ—Ç-capacity)
    - [2) ¬´–ü–æ—á–µ–º—É `Add` –Ω–µ –≤—Å–µ–≥–¥–∞ O(1)?¬ª](#2-–ø–æ—á–µ–º—É-add-–Ω–µ-–≤—Å–µ–≥–¥–∞-o1)
    - [3) ¬´–ú–æ–∂–Ω–æ –ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ `foreach`?¬ª](#3-–º–æ–∂–Ω–æ-–ª–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ-—É–¥–∞–ª—è—Ç—å-—ç–ª–µ–º–µ–Ω—Ç—ã-–≤-foreach)
    - [4) ¬´List.Sort ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π?¬ª](#4-listsort--—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
    - [5) ¬´–ü–æ—á–µ–º—É `List<T>` –±—ã—Å—Ç—Ä–µ–µ `LinkedList<T>` –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞?¬ª](#5-–ø–æ—á–µ–º—É-listt-–±—ã—Å—Ç—Ä–µ–µ-linkedlistt-–¥–ª—è-–ø–µ—Ä–µ–±–æ—Ä–∞)
    - [6) ¬´–ß–µ–º `List<T>` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `IList<T>`?¬ª](#6-—á–µ–º-listt-–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è-–æ—Ç-ilistt)
    - [7) ¬´–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –±–æ–∫c–∏–Ω–≥–∞ –ø—Ä–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ value-type?¬ª](#7-–∫–∞–∫-–∏–∑–±–µ–∂–∞—Ç—å-–±–æ–∫c–∏–Ω–≥–∞-–ø—Ä–∏-—Ö—Ä–∞–Ω–µ–Ω–∏–∏-value-type)
    - [8) ¬´–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á—É ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `List<T>`?¬ª](#8-–µ—Å–ª–∏-–Ω—É–∂–Ω–æ-–±—ã—Å—Ç—Ä—ã–π-–ø–æ–∏—Å–∫-–ø–æ-–∫–ª—é—á—É--–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-listt)
    - [9) ¬´–ö–∞–∫ —É–º–µ–Ω—å—à–∏—Ç—å –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏?¬ª](#9-–∫–∞–∫-—É–º–µ–Ω—å—à–∏—Ç—å-–∞–ª–ª–æ–∫–∞—Ü–∏–∏-–ø—Ä–∏-–º–∞—Å—Å–æ–≤–æ–º-–¥–æ–±–∞–≤–ª–µ–Ω–∏–∏)
    - [10) ¬´–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `ToArray()` vs `AsReadOnly()`?¬ª](#10-—á—Ç–æ-–¥–µ–ª–∞–µ—Ç-toarray-vs-asreadonly)
  - [üîß –ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—ë–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#-–ø–æ–ª–µ–∑–Ω—ã–µ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏—ë–º—ã-–∏-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
  - [‚úÖ –í–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ (—Ç–∏–ø–æ–≤—ã–µ) + –∫—Ä–∞—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã](#-–≤–æ–ø—Ä–æ—Å—ã-–Ω–∞-—Å–æ–±–µ—Å–µ-—Ç–∏–ø–æ–≤—ã–µ--–∫—Ä–∞—Ç–∫–∏–µ-–æ—Ç–≤–µ—Ç—ã)
  - [üî¨ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ ‚Äî —Ç–∏–ø–∏—á–Ω—ã–µ –∫–µ–π—Å—ã –∏ –ª–æ–≤—É—à–∫–∏](#-–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞--—Ç–∏–ø–∏—á–Ω—ã–µ-–∫–µ–π—Å—ã-–∏-–ª–æ–≤—É—à–∫–∏)
  - [‚ú® –†–µ–∑—é–º–µ ‚Äî —á—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–Ω–∞—Ç—å (—à–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–∞)](#-—Ä–µ–∑—é–º–µ--—á—Ç–æ-–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ-–∑–Ω–∞—Ç—å-—à–ø–∞—Ä–≥–∞–ª–∫–∞-–¥–ª—è-—Å–æ–±–µ—Å–∞)

**[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–π](../index.md)**

---

## üîë –ö–æ—Ä–æ—Ç–∫–æ ‚Äî —á—Ç–æ —Ç–∞–∫–æ–µ `List<T>`

`List<T>` ‚Äî —ç—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤: –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –æ–Ω —Ö—Ä–∞–Ω–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ–º `T[] _items`. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –æ–±—ã—á–Ω—ã–π –º–∞—Å—Å–∏–≤, –Ω–æ:

- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤;
- –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É (`O(1)`);
- –≤—Å—Ç–∞–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è –Ω–µ –≤ –∫–æ–Ω—Ü–µ —Ç—Ä–µ–±—É—é—Ç —Å–¥–≤–∏–≥–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (`O(n)`).

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ `List<T>`

- **–ë—ç–∫–µ–Ω–¥:** `T[] _items` ‚Äî –æ–¥–∏–Ω –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –±—É—Ñ–µ—Ä –ø–∞–º—è—Ç–∏.
- **Count vs Capacity:**

  - `Count` ‚Äî —Ç–µ–∫—É—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã;
  - `Capacity` ‚Äî –¥–ª–∏–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∞—Å—Å–∏–≤–∞.
    `Capacity >= Count`. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏, –µ—Å–ª–∏ `Count == Capacity`, —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤).

- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ:** `Add` ‚Äî –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ `O(1)` (–∏–Ω–æ–≥–¥–∞ `O(n)` –ø—Ä–∏ —Ä–æ—Å—Ç–µ).
- **–î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É:** `list[i]` ‚Äî `O(1)`.
- **Insert/RemoveAt:** `O(n)` (—Å–¥–≤–∏–≥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤).
- **Search/Contains/IndexOf:** `O(n)`.
- **BinarySearch:** `O(log n)` ‚Äî _—Ç—Ä–µ–±—É–µ—Ç—Å—è_ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫.
- **Sort:** –æ–±—ã—á–Ω–æ `O(n log n)`; _—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–∞_ (–µ—Å–ª–∏ –≤–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `OrderBy`).
- **Enumerator:** `List<T>.Enumerator` ‚Äî `struct` (–∏–∑–±–µ–≥–∞–µ—Ç –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø—Ä–∏ `foreach` –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤). –ü—Ä–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ –∫ `IEnumerable`/`IEnumerator` ‚Äî –≤–æ–∑–º–æ–∂–µ–Ω _–±–æ–∫—Å–∏–Ω–≥_.
- **–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å equality/–ø–æ–∏—Å–∫:** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `EqualityComparer<T>.Default`.
- **–ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω:** –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ concurrent-–∫–æ–ª–ª–µ–∫—Ü–∏–π.

---

## üß† –í —á—ë–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `List<T>` –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏

### –ü—Ä–æ—Ç–∏–≤ `T[]` (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤)

- `T[]` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. `List<T>` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π.
- –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É —É –æ–±–æ–∏—Ö `O(1)`.
- `T[]` –º–æ–∂–µ—Ç –±—ã—Ç—å —á—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ –æ–±—ë—Ä—Ç–æ–∫) –∏ –º–µ–Ω–µ–µ –∑–∞—Ç—Ä–∞—Ç–µ–Ω –≤ –∞–ª–ª–æ–∫–∞—Ü–∏—è—Ö, –µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –∏–∑–≤–µ—Å—Ç–µ–Ω –∑–∞—Ä–∞–Ω–µ–µ.

### –ü—Ä–æ—Ç–∏–≤ `LinkedList<T>`

- `List<T>` ‚Äî –ª—É—á—à–µ–µ **–∫—ç—à-–ø–æ–≤–µ–¥–µ–Ω–∏–µ** (–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏), –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ–±–æ—Ä –∏ –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É.
- `LinkedList<T>` –¥–∞—ë—Ç `O(1)` –≤—Å—Ç–∞–≤–∫—É/—É–¥–∞–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å `LinkedListNode<T>`; –Ω–æ –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É ‚Äî `O(n)`.
- `LinkedList<T>` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ (nodes), –ø–æ—ç—Ç–æ–º—É –ø–∞–º—è—Ç—å –∏ GC-–Ω–∞–≥—Ä—É–∑–∫–∞ –≤—ã—à–µ.

### –ü—Ä–æ—Ç–∏–≤ `Queue<T>` / `Stack<T>`

- –°–µ–º–∞–Ω—Ç–∏–∫–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è: FIFO/LIFO —É –æ—á–µ—Ä–µ–¥–∏/—Å—Ç–µ–∫–∞.
- –ü–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `Queue<T>`/`Stack<T>` —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–∞—Å—Å–∏–≤—ã/–∫–æ–ª—å—Ü–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –±—ã—Å—Ç—Ä—ã–µ push/pop/peek, –Ω–æ `List<T>` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–µ–µ (–∏–Ω–¥–µ–∫—Å, range, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞).

### –ü—Ä–æ—Ç–∏–≤ `HashSet<T>` / `Dictionary<TKey,TValue>`

- Hash —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞—é—Ç `O(1)` –ø–æ–∏—Å–∫/–≤—Å—Ç–∞–≤–∫—É –ø–æ –∫–ª—é—á—É (–∞–º–æ—Ä—Ç–∏–∑.), `List<T>` ‚Äî `O(n)` –≤ –ø–æ–∏—Å–∫–µ.
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫/—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å/—Å–ª–æ–≤–∞—Ä—å ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `HashSet`/`Dictionary`. `List<T>` ‚Äî –¥–ª—è —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∏ –¥–æ—Å—Ç—É–ø–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É.

### –ü—Ä–æ—Ç–∏–≤ `SortedSet<T>` / `SortedDictionary<TKey,TValue>`

- –≠—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (RB-–¥–µ—Ä–µ–≤—å—è). `List<T>` –º–æ–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –≤—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ ‚Äî `O(n)`.

### –ü—Ä–æ—Ç–∏–≤ `ObservableCollection<T>` / `ReadOnlyCollection<T>`

- `ObservableCollection<T>` ‚Äî `List<T>` + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (`INotifyCollectionChanged`) ‚Äî –¥–ª—è –±–∏–Ω–¥–∏–Ω–≥–∞ UI.
- `ReadOnlyCollection<T>` ‚Äî –ø—Ä–æ—Å—Ç–æ –æ–±–æ–ª–æ—á–∫–∞ –Ω–∞–¥ `IList<T>` ‚Üí –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `List<T>` –≤–Ω—É—Ç—Ä–∏.

### –ü—Ä–æ—Ç–∏–≤ `ConcurrentBag/Queue/Dictionary`

- `List<T>` –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω; –∫–æ–Ω–∫–∞—Ä—Ä–µ–Ω—Ç–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

### –ü—Ä–æ—Ç–∏–≤ `ImmutableList<T>` (immutable collections)

- `List<T>` ‚Äî –∏–∑–º–µ–Ω—è–µ–º—ã–π; immutable –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–æ –¥–æ—Ä–æ–∂–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (—Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏).

---

## ‚öôÔ∏è –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—á—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å)

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ (growth)

- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, `List<T>` –≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –∏ –∫–æ–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã. –û–±—ã—á–Ω–æ —Ä–∞–∑–º–µ—Ä —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–¥–≤–æ–µ (–∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–æ—Å—Ç–∞).
- –ü—Ä–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–∞—Ö —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é ‚Üí –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ GC, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ —É—Ö–æ–¥–∏—Ç –≤ LOH (Large Object Heap) ‚Äî —Ç–æ–≥–¥–∞ –∫–æ–º–ø–∞–∫—Ç–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω–µ–µ.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

- `new List<T>()` ‚Äî —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤; —Ä–µ–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º `Add`.
- `new List<T>(int capacity)` ‚Äî –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã–π –±—É—Ñ–µ—Ä.
- `new List<T>(IEnumerable<T>)` ‚Äî –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç `ICollection<T>`, —Ç–æ –ø—Ä–µ–¥-–≤—ã–¥–µ–ª—è–µ—Ç—Å—è –Ω—É–∂–Ω—ã–π –º–∞—Å—Å–∏–≤ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

### `TrimExcess()`

- –£–º–µ–Ω—å—à–∞–µ—Ç `Capacity` –∫ `Count`, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –ø–∞–º—è—Ç—å; –º–æ–∂–µ—Ç –Ω–µ –º–µ–Ω—è—Ç—å capacity, –µ—Å–ª–∏ —ç–∫–æ–Ω–æ–º–∏—è –º–∞–ª–∞ (—Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ—Ä–æ–≥). –í—ã–∑–æ–≤ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é.

### `AsReadOnly()` –∏ `ToArray()`

- `AsReadOnly()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–æ–ª–æ—á–∫—É `ReadOnlyCollection<T>` ‚Äî _–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ_; –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —Å–ø–∏—Å–∫–µ –≤–∏–¥–Ω—ã –≤ read-only view.
- `ToArray()` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –∏ _–∫–æ–ø–∏—Ä—É–µ—Ç_ —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è snapshot.

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ–ª—å

- `List<T>` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç `_version`. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω—ë–Ω –≤–æ –≤—Ä–µ–º—è `foreach`, `Enumerator` –±—Ä–æ—Å–∏—Ç `InvalidOperationException` (fail-fast).
  ‚Üí –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ–±–æ—Ä–∞: —Å–æ–±–∏—Ä–∞—Ç—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∫–æ–ø–∏–∏, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª `for` (–ø–æ –∏–Ω–¥–µ–∫—Å–∞–º) –∏ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–∞–¥ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏.

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è per-closed-type

- –£ generic-–∫–ª–∞—Å—Å–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ `T` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `List<int>` –∏ `List<string>` ‚Äî —Å–≤–æ–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è).

### Boxing –∏ value-types

- `List<T>` –ø—Ä–∏ `T` = value type (–Ω–∞–ø—Ä–∏–º–µ—Ä, `int`) —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –±–æ–∫c–∏–Ω–≥–∞ ‚Äî –≤—ã–≥–æ–¥–Ω–æ –ø–æ –ø—Ä–æ–∏–≤–∑–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å `ArrayList`/`List<object>`.
- –ù–æ –±—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã: –ø—Ä–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ –∫ –Ω–µ-generic –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `IList`) –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –±–æ–∫c–∏–Ω–≥–∏.

### Enumerator –∫–∞–∫ struct (–ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏)

- `List<T>.Enumerator` ‚Äî `struct`, –ø–æ—ç—Ç–æ–º—É `foreach` –ø–æ `List<T>` –æ–±—ã—á–Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∞–ª–ª–æ–∫–∞—Ü–∏–π. –ù–æ:

  - –ï—Å–ª–∏ –≤—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `IEnumerable<T>`/`IEnumerable`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–∑—ã–≤–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—É—é `GetEnumerator` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–æ–∫c–∏–Ω–≥—É enumerator'–∞ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é), —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∞–ª–ª–æ–∫–∞—Ü–∏—é.
  - –ü—Ä–∏ debug/ToString –∏ –ø—Ä. —Ç–æ–∂–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

---

## üìà –°–ª–æ–∂–Ω–æ—Å—Ç–∏ (Big-O) ‚Äî –±—ã—Å—Ç—Ä–æ

| –û–ø–µ—Ä–∞—Ü–∏—è                    |      –°—Ä–µ–¥–Ω—è—è/–∞–º–æ—Ä—Ç. |               –•—É–¥—à–∞—è |
| --------------------------- | ------------------: | -------------------: |
| `Add`                       | O(1) –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ |   O(n) (–ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ) |
| `Insert` (–≤ —Å–µ—Ä–µ–¥–∏–Ω—É)       |                O(n) |                 O(n) |
| `Remove` (–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é)      |                O(n) |                 O(n) |
| `RemoveAt`                  |        O(n) (—Å–¥–≤–∏–≥) |                 O(n) |
| `IndexOf` / `Contains`      |                O(n) |                 O(n) |
| `this[i]` (get/set)         |                O(1) |                 O(1) |
| `BinarySearch`              |            O(log n) |             O(log n) |
| `Sort`                      |          O(n log n) |           O(n log n) |
| `ToArray`                   |                O(n) |                 O(n) |
| `AddRange` (–∏–∑ ICollection) |      O(k) (–∫—Ä–∞—Ç–Ω–æ–µ) | O(n) (–ø–µ—Ä–µ—Ä–∞–ª–æ–∫–∞—Ü–∏—è) |

---

## üß® –ß–∞—Å—Ç—ã–µ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ / —Å–æ–±–µ—Å-–ª–æ–≤—É—à–∫–∏ (–∏ –∫–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å)

### 1) ¬´–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `Capacity`?¬ª

–ö–æ—Ä–æ—Ç–∫–æ: —ç—Ç–æ –¥–ª–∏–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∞—Å—Å–∏–≤–∞; `Count` ‚Äî —Ä–µ–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. `Capacity` >= `Count`. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `Capacity < Count` ‚Äî –æ—à–∏–±–∫–∞.

### 2) ¬´–ü–æ—á–µ–º—É `Add` –Ω–µ –≤—Å–µ–≥–¥–∞ O(1)?¬ª

–ü–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±—É—Ñ–µ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å O(n), –Ω–æ _—Å–µ—Ä–∏—è_ –¥–æ–±–∞–≤–ª–µ–Ω–∏–π –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ O(1).

### 3) ¬´–ú–æ–∂–Ω–æ –ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ `foreach`?¬ª

–ù–µ—Ç ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏ –∏ –±—Ä–æ—Å–∏—Ç `InvalidOperationException`. –†–µ—à–µ–Ω–∏–µ: –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É (–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏) –∏–ª–∏ —Å–æ–±–∏—Ä–∞—Ç—å —Å–ø–∏—Å–æ–∫ —É–¥–∞–ª—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —É–¥–∞–ª–∏—Ç—å –∏—Ö –ø–æ—Å–ª–µ.

### 4) ¬´List<T>.Sort ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π?¬ª

**Sort –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å.** –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `OrderBy`/`ThenBy` (LINQ) –∏–ª–∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º.

### 5) ¬´–ü–æ—á–µ–º—É `List<T>` –±—ã—Å—Ç—Ä–µ–µ `LinkedList<T>` –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞?¬ª

–ü–æ—Ç–æ–º—É —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ `List<T>` —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ–¥—Ä—è–¥ ‚Üí –ª—É—á—à–∞—è –∫—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å ‚Üí –º–µ–Ω—å—à–µ –ø—Ä–æ–º–∞—Ö–æ–≤ –∫—ç—à–∞ ‚Üí –±—ã—Å—Ç—Ä–µ–µ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.

### 6) ¬´–ß–µ–º `List<T>` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `IList<T>`?¬ª

`IList<T>` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–æ–Ω—Ç—Ä–∞–∫—Ç), `List<T>` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π.

### 7) ¬´–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –±–æ–∫c–∏–Ω–≥–∞ –ø—Ä–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ value-type?¬ª

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `List<T>` —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º value type (`List<int>`), –Ω–µ `List<object>`. –ù–æ –ø—Ä–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ –∫ non-generic –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –±–æ–∫c–∏–Ω–≥ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–æ–∑–º–æ–∂–µ–Ω.

### 8) ¬´–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á—É ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `List<T>`?¬ª

–ù–µ—Ç. –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–∏—Å–∫–æ–≤ ‚Äî `Dictionary`/`HashSet` (—Ö–µ—à) –∏–ª–∏ `SortedDictionary` (–ª–æ–≥–∞—Ä–∏—Ñ–º) ‚Äî –≥–æ—Ä–∞–∑–¥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.

### 9) ¬´–ö–∞–∫ —É–º–µ–Ω—å—à–∏—Ç—å –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏?¬ª

–ü–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `Add` –≤ —Ü–∏–∫–ª–µ –≤—ã–∑–æ–≤–∏—Ç–µ `list.Capacity = expectedCount` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `new List<T>(expectedCount)` –∏–ª–∏ `AddRange` —Å `ICollection<T>`.

### 10) ¬´–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `ToArray()` vs `AsReadOnly()`?¬ª

- `ToArray()` ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ (snapshot).
- `AsReadOnly()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–æ–ª–æ—á–∫—É; –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–ø–∏—Å–∫–µ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—ë–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ï—Å–ª–∏ –∑–Ω–∞–µ—à—å —á–∏—Å–ª–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ ‚Äî —Å–æ–∑–¥–∞–≤–∞–π `new List<T>(capacity)` (–∏–∑–±–µ–∂–∏—à—å —Ä–µ—Å–∞–π–∑–æ–≤).
- –î–ª—è —á–∞—Å—Ç–æ–π –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏/—Å—Ç—Ä–æ–∫ ‚Äî `StringBuilder` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∏–¥–µ—è: –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤).
- –î–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –≤—Å—Ç–∞–≤–æ–∫ ‚Äî `AddRange` –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ `Add`.
- –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ –ø—Ä–µ–¥–∏–∫–∞—Ç—É ‚Äî `RemoveAll(predicate)` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞).
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `lock(list)` –∏–ª–∏ `ConcurrentCollection`.
- –ü—Ä–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö value types ‚Äî –ø–æ–¥—É–º–∞–π –æ `ref struct`/`Span<T>` –∏–ª–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Å—ã–ª–æ–∫, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å ¬´–¥–æ—Ä–æ–≥–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è¬ª.

---

## ‚úÖ –í–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ (—Ç–∏–ø–æ–≤—ã–µ) + –∫—Ä–∞—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã

1. **–ß—Ç–æ —Ç–∞–∫–æ–µ `Capacity` –∏ —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `Count`?**
   `Count` ‚Äî —Ç–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤; `Capacity` ‚Äî —Ä–∞–∑–º–µ—Ä –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∞—Å—Å–∏–≤–∞. `Capacity` ‚â• `Count`.

2. **–ü–æ—á–µ–º—É `Add` –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ O(1)?**
   –ü–æ—Ç–æ–º—É —á—Ç–æ —Ä–æ—Å—Ç –±—É—Ñ–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ (–æ–±—ã—á–Ω–æ —É–¥–≤–∞–∏–≤–∞–Ω–∏–µ), –∏ —Å—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å n –¥–æ–±–∞–≤–ª–µ–Ω–∏–π = O(n).

3. **–ú–æ–∂–Ω–æ –ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å List –≤ `foreach`?**
   –ù–µ—Ç ‚Äî –±—É–¥–µ—Ç `InvalidOperationException`. –ò—Ç–µ—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–Ω–¥–µ–∫—Å–Ω–æ –∏–ª–∏ –¥–µ–ª–∞–π—Ç–µ –∫–æ–ø–∏—é.

4. **`List<T>` –∏–ª–∏ `LinkedList<T>` ‚Äî —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å?**
   –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É –∏ –ª—É—á—à–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –æ–±—Ö–æ–¥–µ ‚Äî `List<T>`. –ï—Å–ª–∏ —á–∞—Å—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ—Ç–µ/—É–¥–∞–ª—è–µ—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∏–º–µ—è —Å—Å—ã–ª–∫—É –Ω–∞ —É–∑–µ–ª ‚Äî `LinkedList<T>`.

5. **–ö–∞–∫ —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–ª–ª–æ–∫–∞—Ü–∏–π –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏?**
   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å `capacity`, `AddRange`, –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `Capacity`.

6. **List<T>.Sort ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞?**
   –ù–µ—Ç, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è. –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `OrderBy`.

7. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `TrimExcess()`?**
   –°—Ç–∞–≤–∏—Ç `Capacity` –±–ª–∏–∂–µ –∫ `Count` (–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –ø–∞–º—è—Ç—å), –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ.

8. **–û—Ç–ª–∏—á–∏–µ `ToArray()` –∏ `AsReadOnly()`?**
   `ToArray()` ‚Äî –∫–æ–ø–∏—è; `AsReadOnly()` ‚Äî read-only view –ø–æ–≤–µ—Ä—Ö —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

9. **–ö–∞–∫ `List<T>` —Ö—Ä–∞–Ω–∏—Ç `struct`?**
   –ó–Ω–∞—á–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è inline –≤ –º–∞—Å—Å–∏–≤–µ `T[]` ‚Äî –±–µ–∑ –±–æ–∫c–∏–Ω–≥–∞. –ù–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤ `IList` –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–∫c–∏–Ω–≥.

10. **–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ–ª—å `List<T>` ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞?**
    –≠—Ç–æ `struct` ‚Äî –æ–±—ã—á–Ω–æ –±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–π –ø—Ä–∏ `foreach`, –Ω–æ –º–æ–∂–µ—Ç –±–æ–∫—Å–∏—Ç—å—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

---

## üî¨ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ ‚Äî —Ç–∏–ø–∏—á–Ω—ã–µ –∫–µ–π—Å—ã –∏ –ª–æ–≤—É—à–∫–∏

**–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ–±–æ—Ä–∞ ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```csharp
foreach (var item in list) // InvalidOperationException –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ list
{
    if (ShouldRemove(item)) list.Remove(item);
}
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–∞–¥ –ø–æ index:**

```csharp
for (int i = list.Count - 1; i >= 0; i--)
{
    if (ShouldRemove(list[i])) list.RemoveAt(i);
}
```

**–ü–µ—Ä–µ—Ö–æ–¥ –∫ capacity –∑–∞—Ä–∞–Ω–µ–µ:**

```csharp
var list = new List<int>(expectedCount);
for (...) list.Add(x);
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:**

```csharp
if (source is ICollection<T> coll)
{
    list.Capacity = list.Count + coll.Count;
    // –ø–æ—Ç–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–±–µ–∂–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ—Å–∞–π–∑–æ–≤
}
else
{
    list.AddRange(source);
}
```

---

## ‚ú® –†–µ–∑—é–º–µ ‚Äî —á—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–Ω–∞—Ç—å (—à–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–ª—è —Å–æ–±–µ—Å–∞)

- `List<T>` = –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ (`T[]`) + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.
- `Count` vs `Capacity`. `Add` –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ `O(1)`, –≤—Å—Ç–∞–≤–∫–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É ‚Äî `O(n)`.
- –ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ–ª—å ‚Äî `struct` (–æ–±—ã—á–Ω–æ –±–µ–∑ allocations), –Ω–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
- –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–∏—Å–∫–æ–≤ –ø–æ –∫–ª—é—á—É ‚Äî –Ω–µ `List<T>`, –∞ `Dictionary/HashSet`.
- –î–ª—è —á–∞—Å—Ç—ã—Ö –≤—Å—Ç–∞–≤–æ–∫/—É–¥–∞–ª–µ–Ω–∏–π –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ ‚Äî `LinkedList<T>` –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –Ω–æ —É `List<T>` –ª—É—á—à–µ –∫—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `new List<T>(capacity)`/`AddRange`/`ToArray`/`TrimExcess` —Ä–∞–∑—É–º–Ω–æ.

---

**[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–π](../index.md)**

<p align="center">‚ú®Dvurechensky‚ú®</p>
