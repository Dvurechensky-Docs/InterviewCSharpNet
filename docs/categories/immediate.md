---
layout: default
title: 'üï∞Ô∏è –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ (deferred) –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ (immediate) –∑–∞–ø—Ä–æ—Å—ã –≤ LINQ?'
description: ''
author: 'Dvurechensky'
date: 2025-08-28
published: true
tags:
  - deferred
  - immediate
  - LINQ
  - C#
---

<p align="center">
    <a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Fira+Code&pause=1000&center=true&vCenter=true&width=435&lines=%D0%9F%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5+-+%D0%BC%D0%B0%D1%82%D1%8C+%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F" alt="Typing SVG" /></a>
</p>
<p align="center">
    <a href="https://sites.google.com/view/dvurechensky" target="_blank"><img alt="Static Badge" src="https://shields.dvurechensky.pro/badge/Dvurechensky-Nikolay-blue"></a>
</p>

# ‚ú® –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [‚ú® –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](#-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)
  - [1Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è](#1Ô∏è‚É£-–æ—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è)
  - [2Ô∏è‚É£ Deferred execution ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã](#2Ô∏è‚É£-deferred-execution--–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ-–∑–∞–ø—Ä–æ—Å—ã)
  - [3Ô∏è‚É£ Immediate execution ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã](#3Ô∏è‚É£-immediate-execution--–Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ-–∑–∞–ø—Ä–æ—Å—ã)
  - [4Ô∏è‚É£ –û—Ç–ª–∏—á–∏—è Deferred –∏ Immediate](#4Ô∏è‚É£-–æ—Ç–ª–∏—á–∏—è-deferred-–∏-immediate)
  - [5Ô∏è‚É£ –ü–æ–¥–≤–æ–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –∫–∞–≤–µ—Ä–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#5Ô∏è‚É£-–ø–æ–¥–≤–æ–¥–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-–∏-–∫–∞–≤–µ—Ä–∑–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)
  - [6Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä—ã](#6Ô∏è‚É£-–ø—Ä–∏–º–µ—Ä—ã)
    - [–û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å](#–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π-–∑–∞–ø—Ä–æ—Å)
    - [–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å](#–Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π-–∑–∞–ø—Ä–æ—Å)

**[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–π](../index.md)**

---

## 1Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

- **Deferred execution (–æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)**: –∑–∞–ø—Ä–æ—Å **–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É**, –∞ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –¥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –æ–±—Ä–∞—â–∞—é—Ç—Å—è (`foreach`, `ToList()`, `Count()`, `First()`).
- **Immediate execution (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)**: –∑–∞–ø—Ä–æ—Å **–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É**, –¥–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ –ø–∞–º—è—Ç—å.

---

## 2Ô∏è‚É£ Deferred execution ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ **–æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏**.
- –í—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ LINQ –º–µ—Ç–æ–¥—ã –¥–ª—è `IEnumerable<T>` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Where`, `Select`, `Take`) **–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ**.
- –ü—Ä–∏–º–µ—Ä:

```csharp
List<int> numbers = new() {1,2,3,4,5};
var query = numbers.Where(n => n > 2); // –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

numbers.Add(6); // —ç—Ç–æ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
foreach(var n in query)
{
    Console.WriteLine(n); // —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –≤—ã–≤–æ–¥–∏—Ç 3,4,5,6
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

1. –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ **—Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö**.
2. –≠–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö.
3. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏**.

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤:**

- `Where`
- `Select`
- `Take`, `Skip`
- `OrderBy`, `ThenBy`
- `SelectMany`

---

## 3Ô∏è‚É£ Immediate execution ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ **–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É**, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
- –ü—Ä–∏–º–µ—Ä:

```csharp
var numbersList = numbers.Where(n => n > 2).ToList(); // –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É
numbers.Add(7);
Console.WriteLine(numbersList.Count); // –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç 7
```

**–ú–µ—Ç–æ–¥—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

- `ToList()`, `ToArray()`
- `Count()`, `LongCount()`
- `Sum()`, `Average()`, `Min()`, `Max()`
- `First()`, `FirstOrDefault()`, `Single()`, `SingleOrDefault()`
- `Any()`, `All()`, `Contains()`

---

## 4Ô∏è‚É£ –û—Ç–ª–∏—á–∏—è Deferred –∏ Immediate

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞              | Deferred Execution                 | Immediate Execution                      |
| --------------------------- | ---------------------------------- | ---------------------------------------- |
| –ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è           | –ü—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏                       | –°—Ä–∞–∑—É –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞                  |
| –ü–∞–º—è—Ç—å                      | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ                         | –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è           |
| –í–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫–∞ | –î–∞                                 | –ù–µ—Ç, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω                |
| –ú–µ—Ç–æ–¥—ã LINQ                 | Where, Select, Take, Skip, OrderBy | ToList, ToArray, Count, First, Sum, etc. |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å          | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö      | –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Ä–æ–∂–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö     |

---

## 5Ô∏è‚É£ –ü–æ–¥–≤–æ–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –∫–∞–≤–µ—Ä–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö**

   - –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è:

     ```csharp
     var query = list.Where(x => x > 0);
     list.Add(10);
     foreach(var n in query) { ... } // –≤–∫–ª—é—á–∞–µ—Ç 10
     ```

   - –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

2. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è**

   - Deferred: –∫–∞–∂–¥—ã–π `foreach` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ.
   - Immediate: –¥–∞–Ω–Ω—ã–µ —É–∂–µ –≤ –ø–∞–º—è—Ç–∏, –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

3. **LINQ to SQL / IQueryable**

   - Deferred ‚Äî **SQL –∑–∞–ø—Ä–æ—Å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è**, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ `ToList()` –∏–ª–∏ `foreach`.
   - Immediate ‚Äî `ToList()`, `Count()` –≤—ã–∑—ã–≤–∞—é—Ç **—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î**.

4. **–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**

   - –ï—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –∏–ª–∏ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏, **Deferred** –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.
   - Immediate —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω —Ä–∞–∑.

5. **–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã**

   - Deferred —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å, –Ω–æ –ø—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.
   - Immediate: –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, –º–µ–Ω—å—à–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

---

## 6Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä—ã

### –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

```csharp
var numbers = new List<int> {1,2,3};
var query = numbers.Where(n => n > 1); // Deferred
numbers.Add(4);
foreach(var n in query) Console.WriteLine(n); // 2,3,4
```

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

```csharp
var numbers = new List<int> {1,2,3};
var result = numbers.Where(n => n > 1).ToList(); // Immediate
numbers.Add(4);
foreach(var n in result) Console.WriteLine(n); // 2,3
```

---

**[‚¨Ü –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–π](../index.md)**

<p align="center">‚ú®Dvurechensky‚ú®</p>
